name: Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: windows-latest
    steps:
     - name: checkout source code
       uses: actions/checkout@v4
       
     - name: Setup .NET Core 3.1
       uses: actions/setup-dotnet@v4
       with:
         dotnet-version: '3.1.x'
         
     - name: restore dependencies
       run: dotnet restore

     - name: build project
       run: dotnet build --configuration Release --no-restore
       
     - name: publish application
       run: dotnet publish -c Release -o publish

     - name: upload build artifact
       uses: actions/upload-artifact@v4
       with:
         name: app-publish
         path: publish

